# Mend Renovate Community Edition Configuration
# Copy this file to .env and update with your specific values

# ============================================================================
# REQUIRED SETTINGS
# ============================================================================

# Accept Mend Terms of Service (required)
MEND_RNV_ACCEPT_TOS=y

# License Key - Community Edition (up to 10 repos for free)
# For unlimited repos, register at: https://www.mend.io/mend-renovate-community/
MEND_RNV_LICENSE_KEY=eyJsaW1pdCI6IjEwIn0=.30440220457941b71ea8eb345c729031718b692169f0ce2cf020095fd328812f4d7d5bc1022022648d1a29e71d486f89f27bdc8754dfd6df0ddda64a23155000a61a105da2a1

# Platform Configuration
MEND_RNV_PLATFORM=gitlab
MEND_RNV_ENDPOINT=http://localhost:8080/api/v4/
MEND_RNV_SERVER_PORT=8080

# GitLab Personal Access Token (PAT) for the renovate-bot user
# Scopes required: api, read_user, write_repository
MEND_RNV_GITLAB_PAT=your_gitlab_pat_here

# GitHub.com token for accessing public package information
# Create at: https://github.com/settings/tokens
# Scopes: public_repo (for public packages metadata)
GITHUB_COM_TOKEN=your_github_token_here

# ============================================================================
# WEBHOOK CONFIGURATION
# ============================================================================

# Webhook secret - must match GitLab webhook configuration
MEND_RNV_WEBHOOK_SECRET=renovate-webhook-secret

# Webhook URL - set to enable automatic webhook creation
# Format: http://your-renovate-server:port/webhook
MEND_RNV_WEBHOOK_URL=http://localhost:8090/webhook

# Admin token for automatic webhook creation (optional)
# If not set, uses MEND_RNV_GITLAB_PAT
# Note: Requires Maintainer access to repos for webhook creation
MEND_RNV_ADMIN_TOKEN=

# ============================================================================
# OPTIONAL SETTINGS
# ============================================================================

# Admin API Configuration
MEND_RNV_ADMIN_API_ENABLED=true
MEND_RNV_SERVER_API_SECRET=admin-api-secret-change-me

# Scheduling Configuration
# Cron format: second minute hour day month dayofweek
# Default: Run every hour
MEND_RNV_CRON_JOB_SCHEDULER=0 2 * * *

# Worker timeout (in milliseconds)
MEND_RNV_WORKER_EXECUTION_TIMEOUT=3600000

# ============================================================================
# DATABASE CONFIGURATION (Optional - for production)
# ============================================================================

# Database type (sqlite or postgresql)
# MEND_RNV_DB_TYPE=sqlite

# PostgreSQL Configuration (if using external database)
# MEND_RNV_DB_TYPE=postgresql
# MEND_RNV_DB_HOST=postgres
# MEND_RNV_DB_PORT=5432
# MEND_RNV_DB_NAME=renovate
# MEND_RNV_DB_USER=renovate
# MEND_RNV_DB_PASSWORD=strong_password_here

# ============================================================================
# RENOVATE CLI CONFIGURATION
# ============================================================================

# Additional Renovate CLI flags
RENOVATE_EXTRA_FLAGS=--autodiscover=true

# Git configuration
RENOVATE_GIT_AUTHOR=Renovate Bot <renovate-bot@example.local>

# Logging configuration
LOG_LEVEL=info
RENOVATE_LOG_LEVEL=info

# ============================================================================
# SECURITY SETTINGS
# ============================================================================

# Enable vulnerability alerts
RENOVATE_VULNERABILITY_ALERTS=true

# OSV (Open Source Vulnerabilities) integration
RENOVATE_OSV_VULNERABILITY_ALERTS=true

# ============================================================================
# PERFORMANCE TUNING
# ============================================================================

# Maximum number of concurrent Renovate jobs
RENOVATE_PR_CONCURRENT_LIMIT=10
RENOVATE_BRANCH_CONCURRENT_LIMIT=10

# HTTP timeout settings (in milliseconds)
RENOVATE_HTTP_TIMEOUT=60000

# Repository cache TTL (time to live) in minutes
RENOVATE_REPOSITORY_CACHE_TTL=60

# ============================================================================
# CUSTOM CONFIGURATION
# ============================================================================

# Path to custom Renovate config file (optional)
# RENOVATE_CONFIG_FILE=/usr/src/app/config.js

# Custom npm registry (if using private registry)
# NPM_REGISTRY=https://registry.npmjs.org/

# Custom Docker registry credentials (if needed)
# DOCKER_HUB_USERNAME=
# DOCKER_HUB_PASSWORD=

# ============================================================================
# DEVELOPMENT/TESTING SETTINGS
# ============================================================================

# Set to true for more verbose logging during development
# RENOVATE_DRY_RUN=false

# Print configuration on startup
# RENOVATE_PRINT_CONFIG=false

# Enable debug logging for specific modules
# DEBUG=renovate:*
